//Ustawiam początkowe wartości 'pamięci', są to wartości spoza zakresu 1-9, aby móc kontrolować dane wejściowe
MEMORY_1 := -1;
MEMORY_2 := -1;
MEMORY_3 := -1;
MEMORY_4 := -1;
CACHE := -1;
//Ustawiam kontrolę dostępu jako 'BRAK DOSTĘPU'
ACCESS := FALSE;
ACCESS_DENIED := FALSE;


//Sprawdzam dla każdej kolejnej wartości 'pamięci' jaki został naciśniety klawisz i taką wartość pamiętam w tejże 'pamięci'
WHILE MEMORY_1 = -1 DO
	IF ONE_B = TRUE THEN
		MEMORY_1 := ONE;
	ELSIF TWO_B = TRUE THEN
		MEMORY_1 := TWO;
	ELSIF THREE_B THEN
		MEMORY_1 := THREE;
	ELSIF FOUR_B THEN
		MEMORY_1 := FOUR;
	ELSIF FIVE_B THEN
		MEMORY_1 := FIVE;
	ELSIF SIX_B THEN
		MEMORY_1 := SIX;
	ELSIF SEVEN_B THEN
		MEMORY_1 := SEVEN;
	ELSIF EIGHT_B THEN
		MEMORY_1 := EIGHT;
	ELSIF NINE_B THEN
		MEMORY_1 := NINE;
	END_IF
END_WHILE

WHILE MEMORY_2 = MEMORY_1 OR MEMORY_2 = -1 DO
	IF ONE_B = TRUE THEN
		MEMORY_2 := ONE;
	ELSIF TWO_B = TRUE THEN
		MEMORY_2 := TWO;
	ELSIF THREE_B THEN
		MEMORY_2 := THREE;
	ELSIF FOUR_B THEN
		MEMORY_2 := FOUR;
	ELSIF FIVE_B THEN
		MEMORY_2 := FIVE;
	ELSIF SIX_B THEN
		MEMORY_2 := SIX;
	ELSIF SEVEN_B THEN
		MEMORY_2 := SEVEN;
	ELSIF EIGHT_B THEN
		MEMORY_2 := EIGHT;
	ELSIF NINE_B THEN
		MEMORY_2 := NINE;
	END_IF
END_WHILE

WHILE MEMORY_3 = MEMORY_2 OR MEMORY_3 = -1 DO
	IF ONE_B = TRUE THEN
		MEMORY_3 := ONE;
	ELSIF TWO_B = TRUE THEN
		MEMORY_3 := TWO;
	ELSIF THREE_B THEN
		MEMORY_3 := THREE;
	ELSIF FOUR_B THEN
		MEMORY_3 := FOUR;
	ELSIF FIVE_B THEN
		MEMORY_3 := FIVE;
	ELSIF SIX_B THEN
		MEMORY_3 := SIX;
	ELSIF SEVEN_B THEN
		MEMORY_3 := SEVEN;
	ELSIF EIGHT_B THEN
		MEMORY_3 := EIGHT;
	ELSIF NINE_B THEN
		MEMORY_3 := NINE;
	END_IF
END_WHILE

WHILE MEMORY_4 = MEMORY_3 OR MEMORY_4 = -1 DO
	IF ONE_B = TRUE THEN
		MEMORY_4 := ONE;
	ELSIF TWO_B = TRUE THEN
		MEMORY_4 := TWO;
	ELSIF THREE_B THEN
		MEMORY_4 := THREE;
	ELSIF FOUR_B THEN
		MEMORY_4 := FOUR;
	ELSIF FIVE_B THEN
		MEMORY_4 := FIVE;
	ELSIF SIX_B THEN
		MEMORY_4 := SIX;
	ELSIF SEVEN_B THEN
		MEMORY_4 := SEVEN;
	ELSIF EIGHT_B THEN
		MEMORY_4 := EIGHT;
	ELSIF NINE_B THEN
		MEMORY_4 := NINE;
	END_IF
END_WHILE

IF MEMORY_1 = 1 AND MEMORY_2 = 2 AND MEMORY_3 = 3 AND MEMORY_4 = 4 AND OK THEN
	ACCESS := TRUE;
	//MY_TON(IN:= FALSE, PT:= T#2S, ET := CZAS);
	//TIME_TO_INT(CZAS);
	COUNTER := 0;
	
	MEMORY_1 := -1;
	MEMORY_2 := -1;
	MEMORY_3 := -1;
	MEMORY_4 := -1;
ELSIF COUNTER >= 3 THEN
	ACCESS_DENIED := TRUE;
	//MY_TON(IN:= ACCESS_DENIED, PT:= T#5S);
	COUNTER := 0;
ELSE 
	ACCESS_DENIED := TRUE;
	//MY_TON(IN:= ACCESS_DENIED, PT:= T#3S);
	COUNTER := COUNTER +1;
	
	MEMORY_1 := -1;
	MEMORY_2 := -1;
	MEMORY_3 := -1;
	MEMORY_4 := -1;
END_IF


WHILE CACHE = MEMORY_4 OR CACHE = -1 DO
	IF ONE_B = TRUE THEN
		CACHE := ONE;
	ELSIF TWO_B = TRUE THEN
		CACHE := TWO;
	ELSIF THREE_B THEN
		CACHE := THREE;
	ELSIF FOUR_B THEN
		CACHE := FOUR;
	ELSIF FIVE_B THEN
		CACHE := FIVE;
	ELSIF SIX_B THEN
		CACHE := SIX;
	ELSIF SEVEN_B THEN
		CACHE := SEVEN;
	ELSIF EIGHT_B THEN
		CACHE := EIGHT;
	ELSIF NINE_B THEN
		CACHE := NINE;
	END_IF
END_WHILE


WHILE COUNTER < 3 DO
	//Ustawiam początkowe wartości 'pamięci', są to wartości spoza zakresu 1-9, aby móc kontrolować dane wejściowe
	MEMORY_1 := -1;
	MEMORY_2 := -1;
	MEMORY_3 := -1;
	MEMORY_4 := -1;
	
	//Ustawiam kontrolę dostępu jako 'BRAK DOSTĘPU'
	ACCESS := FALSE;
	ACCESS_DENIED := FALSE;
	
	
	//Sprawdzam dla każdej kolejnej wartości 'pamięci' jaki został naciśniety klawisz i taką wartość pamiętam w tejże 'pamięci'
	WHILE MEMORY_1 = -1 DO
		IF ONE_B = TRUE THEN
			MEMORY_1 := ONE;
		ELSIF TWO_B = TRUE THEN
			MEMORY_1 := TWO;
		ELSIF THREE_B THEN
			MEMORY_1 := THREE;
		ELSIF FOUR_B THEN
			MEMORY_1 := FOUR;
		ELSIF FIVE_B THEN
			MEMORY_1 := FIVE;
		ELSIF SIX_B THEN
			MEMORY_1 := SIX;
		ELSIF SEVEN_B THEN
			MEMORY_1 := SEVEN;
		ELSIF EIGHT_B THEN
			MEMORY_1 := EIGHT;
		ELSIF NINE_B THEN
			MEMORY_1 := NINE;
		END_IF
	END_WHILE
	
	WHILE MEMORY_2 = MEMORY_1 OR MEMORY_2 = -1 DO
		IF ONE_B = TRUE THEN
			MEMORY_2 := ONE;
		ELSIF TWO_B = TRUE THEN
			MEMORY_2 := TWO;
		ELSIF THREE_B THEN
			MEMORY_2 := THREE;
		ELSIF FOUR_B THEN
			MEMORY_2 := FOUR;
		ELSIF FIVE_B THEN
			MEMORY_2 := FIVE;
		ELSIF SIX_B THEN
			MEMORY_2 := SIX;
		ELSIF SEVEN_B THEN
			MEMORY_2 := SEVEN;
		ELSIF EIGHT_B THEN
			MEMORY_2 := EIGHT;
		ELSIF NINE_B THEN
			MEMORY_2 := NINE;
		END_IF
	END_WHILE
	
	WHILE MEMORY_3 = MEMORY_2 OR MEMORY_3 = -1 DO
		IF ONE_B = TRUE THEN
			MEMORY_3 := ONE;
		ELSIF TWO_B = TRUE THEN
			MEMORY_3 := TWO;
		ELSIF THREE_B THEN
			MEMORY_3 := THREE;
		ELSIF FOUR_B THEN
			MEMORY_3 := FOUR;
		ELSIF FIVE_B THEN
			MEMORY_3 := FIVE;
		ELSIF SIX_B THEN
			MEMORY_3 := SIX;
		ELSIF SEVEN_B THEN
			MEMORY_3 := SEVEN;
		ELSIF EIGHT_B THEN
			MEMORY_3 := EIGHT;
		ELSIF NINE_B THEN
			MEMORY_3 := NINE;
		END_IF
	END_WHILE
	
	WHILE MEMORY_4 = MEMORY_3 OR MEMORY_4 = -1 DO
		IF ONE_B = TRUE THEN
			MEMORY_4 := ONE;
		ELSIF TWO_B = TRUE THEN
			MEMORY_4 := TWO;
		ELSIF THREE_B THEN
			MEMORY_4 := THREE;
		ELSIF FOUR_B THEN
			MEMORY_4 := FOUR;
		ELSIF FIVE_B THEN
			MEMORY_4 := FIVE;
		ELSIF SIX_B THEN
			MEMORY_4 := SIX;
		ELSIF SEVEN_B THEN
			MEMORY_4 := SEVEN;
		ELSIF EIGHT_B THEN
			MEMORY_4 := EIGHT;
		ELSIF NINE_B THEN
			MEMORY_4 := NINE;
		END_IF
	END_WHILE
	
	IF MEMORY_1 = 1 AND MEMORY_2 = 2 AND MEMORY_3 = 3 THEN
		ACCESS := TRUE;
		GREEN(IN:= TRUE, PT:= T#5S);
		COUNTER := 0;
		
		MEMORY_1 := -1;
		MEMORY_2 := -1;
		MEMORY_3 := -1;
		MEMORY_4 := -1;
	ELSIF COUNTER >= 3 THEN
		ACCESS_DENIED := TRUE;
		BLOCKED(IN:= TRUE, PT:= T#180S);
		COUNTER := 0;
	ELSE 
		ACCESS_DENIED := TRUE;
		RED(IN:= TRUE, PT:= T#10S);
		COUNTER := COUNTER +1;
		
		MEMORY_1 := -1;
		MEMORY_2 := -1;
		MEMORY_3 := -1;
		MEMORY_4 := -1;
	END_IF
END_WHILE
